<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>ぺージタイトル</title>
    </head>
    <body>
        <form method="POST" action="output8-2.php">
            名目<input type="text" name="pretext" value="">
            <br>
            収入<input type="number" name="income" value="">
            <br>
            支出<input type="number" name="expense" value="">
            <br>
            残高<input type="number" name="balance" value="">
            <br>
            <!-- ボタンクリック時の日付を送信 -->
            <input type="hidden" name="d_when" id="d_when" value="">
            <button id="submit" type="submit" name="Btn1" value="Btn1">記帳</button>
        </form>

        <script>
            document.getElementById("submit").addEventListener("click", function()
            {
                // 現在の日付を取得し、"YYYY-MM-DD" 形式にフォーマット
                var now = new Date();
                var year = now.getFullYear();
                var month = (now.getMonth() + 1).toString().padStart(2, '0');
                var day = now.getDate().toString().padStart(2, '0');
                var formattedDate = year + '-' + month + '-' + day;

                // 隠しフィールドに日付を設定
                document.getElementById("d_when").value = formattedDate;
            });
        </script>
    </body>
</html>